{
    "version": 2,
    "builds": [
        {
            "src": "main.py",
            "use": "@vercel/python"
        }
    ],
    "rewrites": [
        { "source": "/static/(.*)", "destination": "/static/$1" },
        { "source": "/sw.js", "destination": "/static/sw.js" },
        { "source": "/manifest.json", "destination": "/static/manifest.json" },
        { "source": "/favicon.ico", "destination": "/static/favicon.ico" },
        { "source": "/(.*)", "destination": "/main.py" }
    ],
    "headers": [
        {
            "source": "/(.*)",
            "headers": [
                { "key": "X-Frame-Options", "value": "SAMEORIGIN" },
                {
                    "key": "Content-Security-Policy",
                    "value": "frame-src 'self' https://www.youtube.com https://googleads.g.doubleclick.net https://adservice.google.com https://tpc.googlesyndication.com https://youtube.com https://*.googlevideo.com https://*.ytimg.com https://www.google.com https://ep2.adtrafficquality.google.com; child-src 'self' https://www.youtube.com https://googleads.g.doubleclick.net https://adservice.google.com https://tpc.googlesyndication.com https://youtube.com https://*.googlevideo.com https://*.ytimg.com https://www.google.com https://ep2.adtrafficquality.google.com; connect-src 'self' https://www.youtube.com https://*.googlevideo.com https://*.ytimg.com https://googleads.g.doubleclick.net https://adservice.google.com https://*.adtrafficquality.google.com https://www.google.com;"
                }
            ]
        }
    ]
} 